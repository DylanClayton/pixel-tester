<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta property="og:title" content="Facebook T-Shirt">
  <meta property="og:description" content="Unisex Facebook T-shirt, Small">
  <meta property="og:url" content="https://example.org/facebook">
  <meta property="og:image" content="https://example.org/facebook.jpg">
  <meta property="product:brand" content="Facebook">
  <meta property="product:availability" content="in stock">
  <meta property="product:condition" content="new">
  <meta property="product:price:amount" content="7.99">
  <meta property="product:price:currency" content="USD">
  <meta property="product:retailer_item_id" content="facebook_tshirt_001">
  <meta property="product:item_group_id" content="fb_tshirts">
  
  <title>Meta Pixel Event Tester</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f7f7f8;
      color: #1c1e21;
      margin: 0;
      padding: 20px;
    }
    h1 {
      color: #1877f2;
    }
    label, select, input, button {
      margin-bottom: 10px;
      width: 100%;
      padding: 8px;
      border-radius: 4px;
      border: 1px solid #ccc;
    }
    button {
      background-color: #1877f2;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background-color: #165eab;
    }
    fieldset {
      border: 1px solid #ccc;
      padding: 10px;
      margin-bottom: 20px;
    }
    legend {
      font-weight: bold;
    }
    .product-group {
      margin-bottom: 15px;
    }
  </style>
</head>
<body>

  <h1>Meta Pixel Event Tester</h1>

  <label for="pixelId">Pixel ID:</label>
  <input type="text" id="pixelId" placeholder="Enter your Meta Pixel ID">

  <label for="eventType">Event Type:</label>
  <select id="eventType" onchange="toggleCustomEventFields()">
    <option value="ViewContent">ViewContent</option>
    <option value="Search">Search</option>
    <option value="AddToCart">AddToCart</option>
    <option value="AddToWishlist">AddToWishlist</option>
    <option value="InitiateCheckout">InitiateCheckout</option>
    <option value="AddPaymentInfo">AddPaymentInfo</option>
    <option value="Purchase">Purchase</option>
    <option value="Lead">Lead</option>
    <option value="CompleteRegistration">CompleteRegistration</option>
    <option value="Contact">Contact</option>
    <option value="CustomizeProduct">CustomizeProduct</option>
    <option value="Donate">Donate</option>
    <option value="FindLocation">FindLocation</option>
    <option value="Schedule">Schedule</option>
    <option value="StartTrial">StartTrial</option>
    <option value="SubmitApplication">SubmitApplication</option>
    <option value="Subscribe">Subscribe</option>
    <option value="Custom">Custom Event</option>
  </select>

  <div id="customEventNameDiv" style="display:none;">
    <label for="customEventName">Custom Event Name:</label>
    <input type="text" id="customEventName" placeholder="Enter custom event name">
  </div>

  <div id="eventParameters"></div>

  <button onclick="sendEvent()">Send Event</button>

  <script>
    const eventParametersMap = {
      'ViewContent': ['content_ids', 'content_type', 'value', 'currency'],
      'Search': ['search_string', 'content_type', 'value', 'currency'],
      'AddToCart': ['content_ids', 'content_type', 'value', 'currency', 'quantity'],
      'AddToWishlist': ['content_ids', 'content_type', 'value', 'currency'],
      'InitiateCheckout': ['content_ids', 'content_type', 'value', 'currency'],
      'AddPaymentInfo': ['content_ids', 'content_type', 'value', 'currency'],
      'Purchase': ['content_ids', 'content_type', 'value', 'currency', 'transaction_id'],
      'Lead': ['content_ids', 'content_type', 'value', 'currency'],
      'CompleteRegistration': ['content_ids', 'content_type', 'value', 'currency'],
      'Contact': ['content_ids', 'content_type', 'value', 'currency'],
      'CustomizeProduct': ['content_ids', 'content_type', 'value', 'currency'],
      'Donate': ['content_ids', 'content_type', 'value', 'currency'],
      'FindLocation': ['content_ids', 'content_type', 'value', 'currency'],
      'Schedule': ['content_ids', 'content_type', 'value', 'currency'],
      'StartTrial': ['content_ids', 'content_type', 'value', 'currency'],
      'SubmitApplication': ['content_ids', 'content_type', 'value', 'currency'],
      'Subscribe': ['content_ids', 'content_type', 'value', 'currency'],
      'Custom': ['custom_param1', 'custom_param2']
    };

    function toggleCustomEventFields() {
      const eventType = document.getElementById('eventType').value;
      const customEventNameDiv = document.getElementById('customEventNameDiv');
      if (eventType === 'Custom') {
        customEventNameDiv.style.display = 'block';
      } else {
        customEventNameDiv.style.display = 'none';
      }
      updateEventParameters();
    }

    function updateEventParameters() {
      const eventType = document.getElementById('eventType').value;
      const parameters = eventParametersMap[eventType] || [];
      const eventParametersDiv = document.getElementById('eventParameters');
      eventParametersDiv.innerHTML = '';
      parameters.forEach(param => {
        const div = document.createElement('div');
        div.classList.add('product-group');
        div.innerHTML = `
          <label for="${param}">${param.replace(/_/g, ' ').toUpperCase()}:</label>
          <input type="text" id="${param}" placeholder="Enter ${param.replace(/_/g, ' ')}">
        `;
        eventParametersDiv.appendChild(div);
      });
    }

    function sendEvent() {
      const pixelId = document.getElementById('pixelId').value.trim();
      if (!pixelId) {
        alert('Please enter your Meta Pixel ID.');
        return;
      }

      const eventType = document.getElementById('eventType').value;
      let eventName = eventType;
      if (eventType === 'Custom') {
        eventName = document.getElementById('customEventName').value.trim();
        if (!eventName) {
          alert('Please enter a custom event name.');
          return;
        }
      }

      const params = {};
      const parameterFields = eventParametersMap[eventType] || [];
      parameterFields.forEach(param => {
        const value = document.getElementById(param).value.trim();
        if (value) {
          params[param] = value;
        }
      });

      if (Object.keys(params).length === 0) {
        alert('Please fill in at least one parameter.');
        return;
      }

      if (!window.fbq) {
        alert('Meta Pixel is not loaded.');
        return;
      }

      fbq('track', eventName, params);
      alert(`Event "${eventName}" sent with parameters: ${JSON.stringify(params)}`);
    }

    // Initialize the event parameters for the default event
    updateEventParameters();
  </script>

</body>
</html>
